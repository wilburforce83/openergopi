<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Import styling frameworks-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Settings</title>
    <link rel="stylesheet" href="../../assets/Semantic-UI-CSS-master/semantic.min.css">
    <link rel="stylesheet" href="../../assets/jquery.dynatable.css">
    <link href="https://fonts.googleapis.com/css?family=Comfortaa&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/jquery-ui.css">

    <!-- End Of Import styling frameworks-->


    <!-- Insert this line above script imports  -->
    <script>
        if (typeof module === 'object') {
            window.module = module;
            module = undefined;
        }
    </script>
    <script src="../../assets/jquery.min.js"></script>
    <script src="../../assets/Semantic-UI-CSS-master/semantic.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="../../src/home/imports.js"></script>
    <script src="../../src/home/utils.js"></script>
    <script src="../../assets/jquery.dynatable.js"></script>
    <script src="../../assets/moment.min.js"></script>
    <script src="../../assets/jquery.drawsvg.js"></script>
    <script src="../../assets/raphael-2.1.4.min.js"></script>
    <script src="../../assets/justgage.js"></script>


    <!-- Insert this line after script imports -->
    <script>
        if (window.module) module = window.module;
    </script>

    <!-- Styling Overrides -->
    <style>
        html {
            height: 100vh;
            overflow-x: hidden;

        }
    </style>

    <!-- End Of Styling Overrides -->

</head>

<body>


    <!-- Main Settings HTML is here!!!!-->


    <div class="ui raised very padded container">


        <h4 class="ui horizontal divider header">
            Settings
        </h4>
        <div class="ui hidden divider"></div>
        <div class="content">
            <div class="ui segment">
                This is the settings window.
            </div>
            <div class="ui hidden divider"></div>
            <div>Some content here</div>

            <div class="ui hidden divider"></div>
            <div class="ui hidden divider"></div>
            <div class="actions">
                <div id="saveconfig" class="ui right floated green ok button">
                    <i class="checkmark icon"></i>
                    Save to Server
                </div>
                <div id="closebtn" class="ui right floated red basic cancel button">
                    <i class="remove icon"></i>
                    Cancel
                </div>

            </div>
            <div class="ui hidden divider"></div>
        </div>
        <div class="ui hidden divider"></div>





        <!-- End Of main settings  HTML -->


        <script>
            $(document).ready(function () {

                // do loading stuff here


            });
        </script>

        <script>
            // Electron Reload Settings for debugging

            var reload = () => {
                getCurrentWindow().reload()
            }

            globalShortcut.register('F5', reload);
            globalShortcut.register('CommandOrControl+R', reload);
            // here is the fix bug #3778, if you know alternative ways, please write them
            window.addEventListener('beforeunload', () => {
                globalShortcut.unregister('F5', reload);
                globalShortcut.unregister('CommandOrControl+R', reload);
            });


            const electron1 = require('electron')
            // const path = require('path')
            const remote1 = electron1.remote

            const closeBtn = document.getElementById('closebtn');
            const saveChanges = document.getElementById('saveconfig');


            saveChanges.addEventListener('click', function (event) {
                // do stuff
                console.log('saving function...')
                // close window
                var window = remote1.getCurrentWindow();
                window.close();

            });


            closeBtn.addEventListener('click', function (event) {
                // do stuff
                console.log('closing window');
                // close window
                var window = remote1.getCurrentWindow();
                window.close();

            });
        </script>

</body>

</html>